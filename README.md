Я использую базу данных MySQL для хранения оригинальных и коротких URL. Когда пользователь отправляет POST-запрос с оригинальным URL, мы сначала проверяем, что URL является действительным, а затем генерируем короткий URL или используем кастомный URL, если он был задан. Мы также проверяем, что кастомный URL не занят. Затем мы добавляем оригинальный и короткий URL в базу данных и возвращаем ответ в формате JSON с обоими URL.
Когда пользователь переходит по короткому URL, мы получаем оригинальный URL из базы данных и перенаправляем пользователя на этот URL. Если короткий URL не найден в базе данных, мы возвращаем ошибку 404.

Инструкция по запуску приложения:

1. Установите PHP и MySQL на свой компьютер или сервер.
2. Создайте базу данных в MySQL и выполните следующий SQL-запрос для создания таблицы:

   CREATE TABLE urls (
     id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
     url VARCHAR(255) NOT NULL,
     short_url VARCHAR(10) NOT NULL
   );
   
3. Запустите файл на вашем веб-сервере.
4. Теперь вы можете отправлять POST-запросы на ваш сервер, передавая оригинальный URL в параметре "url". Ответ будет возвращаться в формате JSON с коротким URL.
5. Чтобы перейти по короткому URL, отправьте GET-запрос на ваш сервер, передавая короткий URL в параметре "short_url".

Подробная инструкция по работе с приложением:

1. Запустите локальный сервер PHP с помощью команды:

      php -S localhost:8000
   
   Если вы используете другой порт, замените 8000 на нужный вам.

2. Откройте браузер и перейдите по адресу http://localhost:8000, чтобы открыть приложение.

3. Теперь вы можете использовать API для создания коротких ссылок и переходить по ним.

4. Использование API

API для создания коротких ссылок доступно по адресу http://localhost:8000/url/index.php и принимает POST-запросы со следующими параметрами:

- url - оригинальный URL, который нужно сократить (обязательный параметр).
- custom - кастомный URL, если нужно использовать свой короткий URL (опциональный параметр).

Пример запроса с использованием curl:

curl --request POST \
  --url http://localhost:8000/url/index.php \
  --header 'content-type: application/x-www-form-urlencoded' \
  --data 'url=https://example.com'
